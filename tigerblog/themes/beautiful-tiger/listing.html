<!DOCTYPE html>
<html lang="en">
{% from './macros.html' import blog_card %}
<head>
	<base href="{{blog.config.host}}/">

	<!-- META -->
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- LINKS -->
	<link rel="stylesheet" href="static/css/style.css">
	<link rel="stylesheet" href="static/css/custom-css.css">
	<link rel="icon" type="image/x-icon" href="{{blog.favicon}}">
	
	<title>{{blog.title}}</title>

	{% include 'seo_tags_listings.html' %}
	<plugins></plugins>
</head>
<body>
	<div style="flex: 1;">
		{% include "navbar.html" %}
		<div class="blogs-content-wrapper">
			<div class="page-content">
				<header>
					<div class="header-inner">
						{% include "intro.html" %}
					</div>
				</header>
				<div class="blog-list">
					{{blog_card(pages)}}
				</div>
			</div>
			{% include "sidebar.html" %}
		</div>
	</div>

	{% include "footer.html" %}

	<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>
	<script>
		const nav = document.querySelector('.main-nav')
		const hamburger = document.querySelector('.hamburger-menu')
		hamburger.addEventListener('click', () => nav.classList.toggle('show-nav'))

		const observer = lozad();
		observer.observe();

		const asideInner = document.querySelector('aside .aside-inner')
		let aside;
		function checkSidebarHeight() {
			const windowHeight = window.innerHeight;
			const sidebarHeight = asideInner.offsetHeight;

			if (sidebarHeight > windowHeight) {
				asideInner.style.position = 'relative';
				aside.style.marginTop = '185px'
			} else {
				asideInner.style.position = 'sticky';
				aside.style.marginTop = '202px'
			}
		}
		if (asideInner !== null) {
			aside = document.querySelector('aside')
			checkSidebarHeight()
			window.addEventListener('resize', checkSidebarHeight)
		}
	</script>	

	{% include "javascript.html" %}

</body>
</html>
